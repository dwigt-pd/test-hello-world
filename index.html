<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hello Universe</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background: radial-gradient(ellipse at center, #000000 0%, #1f011b 100%);
            overflow: hidden;
            gap: 24px;
        }
        canvas {
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
        }
        h1 {
            color: white;
            font-size: 48px;
            position: relative;
            z-index: 1;
            margin: 0;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.4);
        }
        #plaid-gif {
            display: none;
            position: relative;
            z-index: 1;
            max-height: 60vh;
            max-width: 90vw;
        }
        #plaid-btn {
            position: fixed;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 14px;
            padding: 18px 24px 24px;
            background: linear-gradient(160deg, #6e6e6e 0%, #444 40%, #2e2e2e 100%);
            border: none;
            border-radius: 6px;
            box-shadow:
                6px 6px 18px rgba(0,0,0,0.85),
                -1px -1px 0 rgba(255,255,255,0.08),
                inset 0 1px 0 rgba(255,255,255,0.12),
                inset 0 -2px 6px rgba(0,0,0,0.5);
            cursor: pointer;
        }
        #plaid-btn:focus-visible {
            outline: 3px solid white;
            outline-offset: 4px;
        }
        #btn-label {
            font-size: 11px;
            font-weight: bold;
            letter-spacing: 2.5px;
            text-transform: uppercase;
            color: #ccc;
            text-shadow: 0 1px 3px rgba(0,0,0,0.9);
            font-family: Arial, sans-serif;
        }
        #btn-dome {
            display: block;
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: radial-gradient(circle at 36% 32%, #ffffff 0%, #e4e4e4 28%, #aaaaaa 58%, #777 82%, #555 100%);
            box-shadow:
                0 10px 28px rgba(0,0,0,0.75),
                inset 0 -5px 10px rgba(0,0,0,0.25),
                0 0 0 7px #4a4a4a,
                0 0 0 9px #333;
            transition: transform 0.08s, box-shadow 0.08s, background 0.2s;
        }
        #plaid-btn:hover #btn-dome {
            background: radial-gradient(circle at 36% 32%, #ffffff 0%, #efefef 28%, #bbbbbb 58%, #888 82%, #666 100%);
        }
        #plaid-btn:active #btn-dome {
            transform: scale(0.95) translateY(3px);
            box-shadow:
                0 4px 12px rgba(0,0,0,0.75),
                inset 0 -3px 6px rgba(0,0,0,0.25),
                0 0 0 7px #4a4a4a,
                0 0 0 9px #333;
        }
        #plaid-btn.active #btn-dome {
            background: radial-gradient(circle at 36% 32%, #ff9999 0%, #ff4444 28%, #cc0000 58%, #880000 82%, #550000 100%);
            box-shadow:
                0 0 25px rgba(255,0,0,0.7),
                0 10px 28px rgba(0,0,0,0.75),
                inset 0 -5px 10px rgba(0,0,0,0.25),
                0 0 0 7px #4a4a4a,
                0 0 0 9px #333;
            animation: dome-pulse 0.5s infinite alternate;
        }
        @keyframes dome-pulse {
            from { box-shadow: 0 0 15px rgba(255,0,0,0.6), 0 10px 28px rgba(0,0,0,0.75), inset 0 -5px 10px rgba(0,0,0,0.25), 0 0 0 7px #4a4a4a, 0 0 0 9px #333; }
            to   { box-shadow: 0 0 40px rgba(255,0,0,1), 0 0 70px rgba(255,0,0,0.35), 0 10px 28px rgba(0,0,0,0.75), inset 0 -5px 10px rgba(0,0,0,0.25), 0 0 0 7px #4a4a4a, 0 0 0 9px #333; }
        }
    </style>
</head>
<body>
    <canvas id="starfield"></canvas>
    <h1 id="title">ðŸš€ Hello Universe! ðŸš€</h1>
    <img id="plaid-gif" src="https://static.tvtropes.org/pmwiki/pub/images/ludicrous_speed.jpg" alt="Ludicrous speed - we've gone to plaid!" />
    <button id="plaid-btn" aria-pressed="false">
        <span id="btn-label">Ludicrous Speed</span>
        <span id="btn-dome"></span>
    </button>

    <script>
        const canvas = document.getElementById('starfield');
        const ctx = canvas.getContext('2d');
        const btn = document.getElementById('plaid-btn');
        const btnLabel = document.getElementById('btn-label');
        const title = document.getElementById('title');
        const gif = document.getElementById('plaid-gif');

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const NUM_STARS = 300;
        const SPEED_NORMAL = 6;
        const SPEED_PLAID = 45;

        let plaid = false;
        let currentSpeed = SPEED_NORMAL;
        let tunnelOffset = 0;

        btn.addEventListener('click', () => {
            plaid = !plaid;
            btn.classList.toggle('active', plaid);
            btnLabel.textContent = plaid ? 'Stop!' : 'Ludicrous Speed';
            btn.setAttribute('aria-pressed', plaid);
            title.style.display = plaid ? 'none' : '';
            gif.style.display = plaid ? 'block' : 'none';
        });

        function newStar(spreadOut = false) {
            return {
                angle: Math.random() * Math.PI * 2,
                dist: spreadOut ? Math.random() * 0.8 : 0.01,
                hue: Math.random() * 360,
            };
        }

        const stars = Array.from({ length: NUM_STARS }, () => newStar(true));

        function drawTunnel(cx, cy) {
            tunnelOffset += 0.007;

            const numRings = 10;
            const maxW = canvas.width * 0.88;
            const maxH = canvas.height * 0.88;

            // Perspective corner lines radiating from center
            ctx.lineWidth = 2;
            ctx.strokeStyle = 'rgba(255, 100, 0, 0.75)';
            for (const [sx, sy] of [[-1, -1], [1, -1], [1, 1], [-1, 1]]) {
                ctx.beginPath();
                ctx.moveTo(cx, cy);
                ctx.lineTo(cx + sx * maxW / 2, cy + sy * maxH / 2);
                ctx.stroke();
            }

            // Animated concentric rectangles flying outward
            for (let i = 0; i < numRings; i++) {
                const t = ((i / numRings) + tunnelOffset) % 1;
                const scale = t * t; // perspective compression near center
                if (scale < 0.004) continue;

                const w = maxW * scale;
                const h = maxH * scale;
                const alpha = Math.min(1, t * 1.5) * 0.9;
                const green = Math.floor(60 + t * 80);

                ctx.strokeStyle = `rgba(255, ${green}, 0, ${alpha})`;
                ctx.lineWidth = 1 + t * 2.5;
                ctx.strokeRect(cx - w / 2, cy - h / 2, w, h);
            }

            // Bright center glow
            const glow = ctx.createRadialGradient(cx, cy, 0, cx, cy, 110);
            glow.addColorStop(0,    'rgba(255, 250, 210, 1)');
            glow.addColorStop(0.12, 'rgba(255, 200, 80, 0.85)');
            glow.addColorStop(0.4,  'rgba(255, 80, 0, 0.3)');
            glow.addColorStop(1,    'rgba(0, 0, 0, 0)');
            ctx.fillStyle = glow;
            ctx.beginPath();
            ctx.arc(cx, cy, 110, 0, Math.PI * 2);
            ctx.fill();
        }

        function draw() {
            const cx = canvas.width / 2;
            const cy = canvas.height / 2;
            const maxDist = Math.sqrt(cx * cx + cy * cy);

            const targetSpeed = plaid ? SPEED_PLAID : SPEED_NORMAL;
            currentSpeed += (targetSpeed - currentSpeed) * 0.08;

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            const inPlaid = plaid || currentSpeed > SPEED_NORMAL * 1.5;

            for (const star of stars) {
                const prevDist = star.dist;
                star.dist += (currentSpeed / 1000) * (1 + star.dist * 3);

                const x  = cx + Math.cos(star.angle) * star.dist  * maxDist;
                const y  = cy + Math.sin(star.angle) * star.dist  * maxDist;
                const px = cx + Math.cos(star.angle) * prevDist * maxDist;
                const py = cy + Math.sin(star.angle) * prevDist * maxDist;

                const radius  = star.dist * 1.5;
                const opacity = Math.min(1, star.dist * 1.5);

                if (inPlaid) {
                    star.hue = (star.hue + 1.5) % 360;

                    // Soft glow halo
                    ctx.beginPath();
                    ctx.moveTo(px, py);
                    ctx.lineTo(x, y);
                    ctx.strokeStyle = `hsla(${star.hue}, 100%, 60%, ${opacity * 0.3})`;
                    ctx.lineWidth = radius * 5;
                    ctx.stroke();

                    // Bright core
                    ctx.beginPath();
                    ctx.moveTo(px, py);
                    ctx.lineTo(x, y);
                    ctx.strokeStyle = `hsla(${star.hue}, 100%, 82%, ${opacity})`;
                    ctx.lineWidth = radius;
                    ctx.stroke();
                } else {
                    ctx.beginPath();
                    ctx.moveTo(px, py);
                    ctx.lineTo(x, y);
                    ctx.strokeStyle = `rgba(255, 255, 255, ${opacity})`;
                    ctx.lineWidth = radius;
                    ctx.stroke();
                }

                if (x < 0 || x > canvas.width || y < 0 || y > canvas.height) {
                    Object.assign(star, newStar());
                }
            }

            if (inPlaid) drawTunnel(cx, cy);

            requestAnimationFrame(draw);
        }

        draw();

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
    </script>
</body>
</html>
